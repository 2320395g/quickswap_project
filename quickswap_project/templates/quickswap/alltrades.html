{% extends 'quickswap/home.html' %}
{% load quickswap_template_tags %}
{% load staticfiles %}

{% block title_block %}
  All Trades
{% endblock %}

{% block body_block %}
<div class="jumbotron p-4">
  <div class="container">
    <h1 class="jumbotron-heading">All Trades</h1>
  </div>
</div>

<div class="container">
  <div class="row">
    {% if trade_list %}
    <div class="panel-body">
      <div class="list-group">
        {% for list_trade in trade_list %}
          <div class="list-group-item">
            <h4 class="list-group-item-heading">
              {% with user=list_trade.user.username %}
              <img src="{{ MEDIA_URL }}{{ pictures|getDictValue:list_trade }}"
              width="48"
              height="48"/>
              <a href="{% url 'quickswap:trade' list_trade.slug %}">
                {{ list_trade.name }}
              </a>
               - Author:
              <a href="{% url 'quickswap:user' list_trade.user.username %}">
                {{ user }}
              </a>
              - Comments: {{ comment_num|getDictValue:list_trade }}
              {% endwith %}
            </h4>
          </div>
        {% endfor %}
      </div>
    </div>
    {% else %}
    <p>Quickswap has no available trades :( </p>
    {% endif %}
  </div>
</div>
{% endblock %}
